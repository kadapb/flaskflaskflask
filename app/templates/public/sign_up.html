<!DOCTYPE html>
<html lang="en">
<head>
  <title>Registracija</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
  <style>
    .bd-placeholder-img {
      font-size: 1.125rem;
      text-anchor: middle;
      -webkit-user-select: none;
      -moz-user-select: none;
      user-select: none;
    }

    @media (min-width: 768px) {
      .bd-placeholder-img-lg {
        font-size: 3.5rem;
      }
    }
  </style>
  <link href="https://getbootstrap.com/docs/5.0/examples/sign-in/signin.css" rel="stylesheet">
</head>

<body class="text-center">
    
    <main class="form-signin">
      {% with messages = get_flashed_messages() %}
        {% if messages %}
          <div class="flashes alert alert-danger" role="alert">
              {% for message in messages %}
                {{ message }}
              {% endfor %}
          </div>
        {% endif %}
      {% endwith %}
      <form action="" method="POST">
        <img class="mb-4" src="https://freeiconshop.com/wp-content/uploads/edd/cheese-outline-filled.png" alt="" width="72" height="57">
        <h1 class="h3 mb-3 fw-normal">Registracija</h1>
    
        <div class="form-floating">
          <input type="text" name="username" class="form-control" id="floatingInput" placeholder="">
          <label for="floatingInput">Vartotojas</label>
        </div>
        <div class="form-floating">
          <input type="password" name="password1" class="form-control" id="floatingPassword1" placeholder="">
          <label for="floatingPassword1">Slaptažodis</label>
        </div>
        <div class="form-floating">
            <input type="password" name="password2" class="form-control" id="floatingPassword2" placeholder="">
            <label for="floatingPassword2">Pakartok Slaptažodį</label>
        </div>
    
        <div class="checkbox mb-3">
          <label>
            <input type="checkbox" value="sell_soul" id="siela"> Sutinku parduoti savo sielą
          </label>
        </div>
        <button class="w-100 btn btn-lg btn-success signBtn" type="submit" id="sign_upBtn" value="sign_up" disabled>Užsiregistruoti</button>
        <a class="w-100 btn btn-lg btn-secondary regBtn" href="sign_in">Aš čia ne naujokas</a>
        <p class="mt-5 mb-3 text-muted">© 2023</p>
      </form>
    </main>

    <script>
        function toggleForm() {
          var name = document.getElementById('floatingInput')
          var psw1 = document.getElementById('floatingPassword1')
          var psw2 = document.getElementById('floatingPassword2')
          var checkbox = document.getElementById('siela');
          var submitButton = document.getElementById('sign_upBtn');
    
          if (checkbox.checked && name.value.length > 0 && psw1.value.length > 0 && psw2.value.length > 0) {
            submitButton.disabled = false;
          } else {
            submitButton.disabled = true;
          }
        }
        document.getElementById('floatingInput').addEventListener('input', toggleForm);
        document.getElementById('floatingPassword1').addEventListener('input', toggleForm);
        document.getElementById('floatingPassword2').addEventListener('input', toggleForm);
        document.getElementById('siela').addEventListener('change', toggleForm);
      </script>
    
    </body>
    </html>